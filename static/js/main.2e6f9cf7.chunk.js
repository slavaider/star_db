(this.webpackJsonp04_star_db=this.webpackJsonp04_star_db||[]).push([[0],{29:function(t,e,a){},31:function(t,e,a){},37:function(t,e,a){},39:function(t,e,a){},40:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){},43:function(t,e,a){},44:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a(1),r=a.n(n),c=a(22),i=a.n(c),l=(a(29),a(30),a(31),a(11)),o=function(){return Object(s.jsxs)("div",{className:"header d-flex",children:[Object(s.jsx)("h3",{children:Object(s.jsx)(l.b,{exact:!0,to:"/people/1",children:"Star DB"})}),Object(s.jsxs)("ul",{className:"d-flex",children:[Object(s.jsx)("li",{children:Object(s.jsx)(l.b,{exact:!0,to:"/people/1",children:"People"})}),Object(s.jsx)("li",{children:Object(s.jsx)(l.b,{exact:!0,to:"/planets/1",children:"Planets"})}),Object(s.jsx)("li",{children:Object(s.jsx)(l.b,{exact:!0,to:"/starships/2",children:"Starships"})}),Object(s.jsx)("li",{children:Object(s.jsxs)("a",{href:"https://github.com/slavaider",children:[Object(s.jsx)("i",{className:"fa fa-github"}),"\xa0 Slavaider"]})})]})]})},p=a(6),u=a(7),d=a(10),h=a(9),j=(a(37),a(20)),m=a(13),b=a.n(m),x=a(15),O=function(){function t(){var e=this;Object(p.a)(this,t),this._apiUrl="https://swapi.dev/api",this.getResource=function(){var t=Object(x.a)(b.a.mark((function t(e){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if((a=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(e,", received state status:").concat(a.status));case 5:return t.next=7,a.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getData=function(){var t=Object(x.a)(b.a.mark((function t(a,s){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource("".concat(e._apiUrl,"/").concat(a,"/").concat(s,"/"));case 2:n=t.sent,t.t0=a,t.next="people"===t.t0?6:"planets"===t.t0?7:"starships"===t.t0?8:9;break;case 6:return t.abrupt("return",e._transformPeople(n));case 7:return t.abrupt("return",e._transformPlanet(n));case 8:return t.abrupt("return",e._transformStarship(n));case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.dataTransform=function(t,a){return a.results.map((function(a){switch(t){case"people":return e._transformPeople(a);case"planets":return e._transformPlanet(a);case"starships":return e._transformStarship(a);default:return null}}))},this.getAllData=function(){var t=Object(x.a)(b.a.mark((function t(a){var s,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=[],t.next=3,e.getResource("".concat(e._apiUrl,"/").concat(a,"/"));case 3:n=t.sent,s.push.apply(s,Object(j.a)(e.dataTransform(a,n)));case 5:if(!n.next){t.next=12;break}return t.next=8,e.getResource(n.next);case 8:n=t.sent,s.push.apply(s,Object(j.a)(e.dataTransform(a,n))),t.next=5;break;case 12:return t.abrupt("return",s);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this._transformPeople=function(t){return t?{id:e._extractId(t),name:t.name,gender:t.gender,birth_year:t.birth_year,eye_color:t.eye_color}:{}},this._transformStarship=function(t){return t?{id:e._extractId(t),name:t.name,model:t.model,manufacturer:t.manufacturer,cost_in_credits:t.cost_in_credits,length:t.length,crew:t.crew,passengers:t.passengers,cargo_capacity:t.cargo_capacity}:{}},this._transformPlanet=function(t){return t?{id:e._extractId(t),name:t.name,population:t.population,rotation_period:t.rotation_period,diameter:t.diameter}:{}}}return Object(u.a)(t,[{key:"_extractId",value:function(t){return t.url.match(/\/([0-9]*)\/$/)[1]}}]),t}(),f=(a(39),function(){return Object(s.jsx)("div",{className:"lds-css",children:Object(s.jsxs)("div",{className:"lds-double-ring",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})})}),g=function(t){Object(d.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).swapi=new O,t.state={planet:{},loading:!0,error:"",interval:null},t.onError=function(e){t.setState({error:e,loading:!1})},t.updatePlanet=function(){var e=Math.floor(16*Math.random())+3;t.swapi.getData("planets",e).then((function(e){t.setState({planet:e,loading:!1})})).catch(t.onError)},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.updatePlanet(),this.setState({interval:setInterval(this.updatePlanet,1e4)})}},{key:"componentWillUnmount",value:function(){var t=this.state.interval;clearInterval(t)}},{key:"render",value:function(){var t=this.state,e=t.planet,a=t.error,n=t.loading,r=!(n||a),c=a?a.toString():null,i=n?Object(s.jsx)(f,{}):null,l=r?Object(s.jsx)(v,{planet:e}):null;return Object(s.jsxs)("div",{className:"random-planet jumbotron rounded",children:[c,i,l]})}}]),a}(n.Component),v=function(t){var e=t.planet,a=e.id,n=e.name,c=e.population,i=e.rotation_period,l=e.diameter;return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("img",{alt:"img",className:"planet-image",src:"https://starwars-visualguide.com/assets/img/planets/".concat(a,".jpg")}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:n}),Object(s.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Population"}),Object(s.jsx)("span",{children:c})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Rotation Period"}),Object(s.jsx)("span",{children:i})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Diameter"}),Object(s.jsx)("span",{children:l})]})]})]})]})},N=g,y=(a(40),a(2)),w=function(t){Object(d.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).swapi=new O,t.state={items:[],loading:!0,index:0,step:10,max:null},t.updateItems=function(){t.setState({loading:!0}),t.swapi.getAllData(t.props.match.path.match(/\/([a-z]*)\//)[1]).then((function(e){t.setState({index:0,items:e,loading:!1,max:Math.ceil(e.length/t.state.step)})}))},t.Choose=function(e){t.props.history.push("/".concat(t.props.match.path.match(/\/([a-z]*)\//)[1],"/").concat(e))},t.changePage=function(e){t.setState({index:e.target.value-1})},t.Prev=function(){0!==t.state.index&&t.setState((function(t){return{index:t.index-1}}))},t.Next=function(){t.state.index!==t.state.max-1&&t.setState((function(t){return{index:t.index+1}}))},t}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(t){this.props.match.path!==t.match.path&&this.updateItems()}},{key:"componentDidMount",value:function(){this.updateItems()}},{key:"Pagination",value:function(){for(var t=this,e=0,a=[];e<this.state.max;)e++,a.push(Object(s.jsx)("li",{className:["page-item",this.state.index===e-1?"active":null].join(" "),children:Object(s.jsx)("button",{className:"page-link",value:e,onClick:function(e){return t.changePage(e)},children:e})},e));return[].concat(a)}},{key:"render",value:function(){var t=this;return Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("ul",{className:"item-list list-group",children:this.state.loading?Object(s.jsx)(f,{}):Object(s.jsxs)(r.a.Fragment,{children:[this.state.items.slice(this.state.index*this.state.step,(this.state.index+1)*this.state.step).map((function(e){return Object(s.jsxs)("li",{onClick:function(){return t.Choose(e.id)},className:"list-group-item",children:["[ID:",e.id,"] ",e.name]},e.id)})),Object(s.jsxs)("ul",{className:"pagination pagination-md mt-2 mb-2 justify-content-center",children:[Object(s.jsx)("li",{className:"page-item",children:Object(s.jsx)("button",{onClick:function(){return t.Prev()},className:"page-link",children:"<"})}),this.Pagination(),Object(s.jsx)("li",{className:"page-item",children:Object(s.jsx)("button",{onClick:function(){return t.Next()},className:"page-link",children:">"})})]})]})})})}}]),a}(n.Component),_=Object(y.g)(w),k=(a(41),a(42),function(t){Object(d.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).swapi=new O,t.state={starship:{},loading:!0},t}return Object(u.a)(a,[{key:"updateShip",value:function(){var t=this;this.setState({loading:!0}),this.swapi.getData("starships",this.props.match.params.id).then((function(e){t.setState({starship:e,loading:!1})}))}},{key:"componentDidUpdate",value:function(t){this.props.match.params.id!==t.match.params.id&&this.updateShip()}},{key:"componentDidMount",value:function(){this.updateShip()}},{key:"render",value:function(){var t=this.state.starship,e=t.name,a=t.model,n=t.manufacturer,c=t.cost_in_credits,i=t.length,l=t.crew,o=t.passengers,p=t.cargo_capacity;return Object(s.jsx)("div",{className:"starship-details card",children:this.state.loading?Object(s.jsx)(f,{}):Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("img",{className:"starship-image",src:"https://starwars-visualguide.com/assets/img/starships/".concat(this.props.match.params.id,".jpg"),onError:function(t){return t.target.style.display="none"},alt:"Starship: 404 not found"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:e}),Object(s.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Model"}),Object(s.jsx)("span",{children:a})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Manufacturer"}),Object(s.jsx)("span",{children:n})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Cost in Credits"}),Object(s.jsx)("span",{children:c})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Length"}),Object(s.jsx)("span",{children:i})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Crew"}),Object(s.jsx)("span",{children:l})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Passengers"}),Object(s.jsx)("span",{children:o})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Cargo Capacity"}),Object(s.jsx)("span",{children:p})]})]})]})]})})}}]),a}(n.Component)),P=(a(43),function(t){Object(d.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).swapi=new O,t.state={person:{},loading:!0},t}return Object(u.a)(a,[{key:"updatePerson",value:function(){var t=this;this.setState({loading:!0}),this.swapi.getData("people",this.props.match.params.id).then((function(e){t.setState({person:e,loading:!1})}))}},{key:"componentDidUpdate",value:function(t){this.props.match.params.id!==t.match.params.id&&this.updatePerson()}},{key:"componentDidMount",value:function(){this.updatePerson()}},{key:"render",value:function(){var t=this.state.person,e=t.name,a=t.gender,n=t.birth_year,c=t.eye_color;return Object(s.jsx)("div",{className:"person-details card",children:this.state.loading?Object(s.jsx)(f,{}):Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("img",{className:"person-image",src:"https://starwars-visualguide.com/assets/img/characters/".concat(this.props.match.params.id,".jpg"),onError:function(t){return t.target.style.display="none"},alt:"Person: 404 not found"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:e}),Object(s.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Gender"}),Object(s.jsx)("span",{children:a})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Birth Year"}),Object(s.jsx)("span",{children:n})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Eye Color"}),Object(s.jsx)("span",{children:c})]})]})]})]})})}}]),a}(n.Component)),S=(a(44),function(t){Object(d.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).swapi=new O,t.state={planet:{},loading:!0},t}return Object(u.a)(a,[{key:"updatePlanet",value:function(){var t=this;this.setState({loading:!0}),this.swapi.getData("planets",this.props.match.params.id).then((function(e){t.setState({planet:e,loading:!1})}))}},{key:"componentDidUpdate",value:function(t){this.props.match.params.id!==t.match.params.id&&this.updatePlanet()}},{key:"componentDidMount",value:function(){this.updatePlanet()}},{key:"render",value:function(){var t=this.state.planet,e=t.name,a=t.population,n=t.rotation_period,c=t.diameter;return Object(s.jsx)("div",{className:"planet-details card",children:this.state.loading?Object(s.jsx)(f,{}):Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("img",{className:"planet-image",src:"https://starwars-visualguide.com/assets/img/planets/".concat(this.props.match.params.id,".jpg"),onError:function(t){return t.target.style.display="none"},alt:"Planet: 404 not found"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{children:e}),Object(s.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Population"}),Object(s.jsx)("span",{children:a})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Rotation Period"}),Object(s.jsx)("span",{children:n})]}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsx)("span",{className:"term",children:"Diameter"}),Object(s.jsx)("span",{children:c})]})]})]})]})})}}]),a}(n.Component));var D=function(){return Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)(o,{}),Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"row mb2",children:[Object(s.jsxs)(y.d,{children:[Object(s.jsx)(y.b,{path:["/starships/:id","/people/:id","/planets/:id"],component:_}),Object(s.jsx)(y.a,{from:"*",to:"/people/1"})]}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)(y.d,{children:[Object(s.jsx)(y.b,{path:"/starships/:id",component:k}),Object(s.jsx)(y.b,{path:"/people/:id",component:P}),Object(s.jsx)(y.b,{path:"/planets/:id",component:S})]})})]})]})};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(l.a,{children:Object(s.jsx)(D,{})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.2e6f9cf7.chunk.js.map